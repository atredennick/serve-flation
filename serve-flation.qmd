---
title: "Analysis of serve-flation"
author: "Andrew Tredennick"
format: html
---

## Libraries

```{r libraries}
library(tidyverse)
library(here)
library(arrow)
```


## Load and tidy serve speed data from *deuce* package

### Load data
```{r data}
serve_data <- read_parquet(here("data", "serve_data.parquet"))
```

### Filter data to WTA (Women's Tennis Association) Tour
```{r wta}
wta <- serve_data |>
  filter(tour == "WTA")
```

### Filter to first serves
```{r serves}
serves <- wta |>
  dplyr::mutate(ServeNumber = ifelse((is.na(ServeNumber) |
                                        ServeNumber == 0) &
                                       (P1FirstSrvIn == 1 | P2FirstSrvIn == 1),
                                     1,
                                     ifelse((is.na(ServeNumber) |
                                               ServeNumber == 0), 2, ServeNumber)
  ))
```


```{r}
1 + 1
```

You can add options to executable code like this 

```{r}
#| echo: false
2 * 2
```

The `echo: false` option disables the printing of code (only output is displayed).
